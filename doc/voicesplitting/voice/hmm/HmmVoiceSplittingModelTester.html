<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_121) on Thu Feb 02 16:58:14 GMT 2017 -->
<title>HmmVoiceSplittingModelTester</title>
<meta name="date" content="2017-02-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="HmmVoiceSplittingModelTester";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HmmVoiceSplittingModelTester.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelState.html" title="class in voicesplitting.voice.hmm"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html" target="_top">Frames</a></li>
<li><a href="HmmVoiceSplittingModelTester.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">voicesplitting.voice.hmm</div>
<h2 title="Class HmmVoiceSplittingModelTester" class="title">Class HmmVoiceSplittingModelTester</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>voicesplitting.voice.hmm.HmmVoiceSplittingModelTester</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.util.concurrent.Callable&lt;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelTesterReturn</a>&gt;</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">HmmVoiceSplittingModelTester</span>
extends java.lang.Object
implements java.util.concurrent.Callable&lt;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelTesterReturn</a>&gt;</pre>
<div class="block">An <code>HmmVoiceSplittingModelTester</code> contains the <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#main(java.lang.String[])"><code>main(String[])</code></a> method used
 to train and test the <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModel.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModel</code></a> class from the command line.
 <p>
 It can run multiple threads (total number according to <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#NUM_PROCS"><code>NUM_PROCS</code></a>) simultaneously, managing
 return values and reporting the best setting for <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a>.
 <p>
 This was the class used to perform training for the paper.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.0</dd>
<dt><span class="strong">Version:</span></dt>
  <dd>1.0</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Andrew McLeod - 10 April, 2015</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static double</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#EPSILON">EPSILON</a></strong></code>
<div class="block">Epsilon needed for double comparison.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.List&lt;java.io.File&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#files">files</a></strong></code>
<div class="block">A List of the Files we're reading MIDI data in from.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.List&lt;java.util.List&lt;java.util.List&lt;<a href="../../../voicesplitting/utils/MidiNote.html" title="class in voicesplitting.utils">MidiNote</a>&gt;&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#goldStandard">goldStandard</a></strong></code>
<div class="block">The gold standard voices for each of the songs we are evaluating.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#NUM_PROCS">NUM_PROCS</a></strong></code>
<div class="block">The number of processes to use for training, generated from the number of available
 processors.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelParameters</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#parametersList">parametersList</a></strong></code>
<div class="block">A List of the parameters which we need to test with this Tester thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.List&lt;<a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing">NoteListGenerator</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#songs">songs</a></strong></code>
<div class="block">A <a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing"><code>NoteListGenerator</code></a> for each of the songs we are evaluating.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#USE_CHANNEL">USE_CHANNEL</a></strong></code>
<div class="block">True if we want to use the input data's channel as gold standard voices.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#VERBOSE">VERBOSE</a></strong></code>
<div class="block">Print song-by song voice details when running.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#HmmVoiceSplittingModelTester(java.util.List)">HmmVoiceSplittingModelTester</a></strong>(java.util.List&lt;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelParameters</a>&gt;&nbsp;params)</code>
<div class="block">Create a new Tester thread which should test on the given <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#argumentError(java.lang.String)">argumentError</a></strong>(java.lang.String&nbsp;arg)</code>
<div class="block">Print an argument error to stderr.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelTesterReturn</a></code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#call()">call</a></strong>()</code>
<div class="block">Run the test on our List of <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a>, and return the best result.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#finished(java.util.List,%20int[])">finished</a></strong>(java.util.List&lt;<a href="../../../voicesplitting/voice/Voice.html" title="class in voicesplitting.voice">Voice</a>&gt;&nbsp;voices,
        int[]&nbsp;voiceIndex)</code>
<div class="block">Return if the voices are finished printing or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.List&lt;java.io.File&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#getAllFilesRecursive(java.io.File)">getAllFilesRecursive</a></strong>(java.io.File&nbsp;file)</code>
<div class="block">Get and return a List of every File beneath the given one recursively.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#getExtractString(java.util.List,%20int)">getExtractString</a></strong>(java.util.List&lt;<a href="../../../voicesplitting/voice/Voice.html" title="class in voicesplitting.voice">Voice</a>&gt;&nbsp;voices,
                int&nbsp;songId)</code>
<div class="block">Get the extracted voices as a String.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#getNextVoiceIndex(java.util.List,%20int[])">getNextVoiceIndex</a></strong>(java.util.List&lt;<a href="../../../voicesplitting/voice/Voice.html" title="class in voicesplitting.voice">Voice</a>&gt;&nbsp;voices,
                 int[]&nbsp;voiceIndex)</code>
<div class="block">Return the index of the voice containing the unprinted note with the lowest onset time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.List&lt;<a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing">NoteListGenerator</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#getSongs(java.util.List)">getSongs</a></strong>(java.util.List&lt;java.io.File&gt;&nbsp;files)</code>
<div class="block">Generate a <a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing"><code>NoteListGenerator</code></a>s for each given MIDI File and return them in a List.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>
<div class="block">Train or test the voice splitter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#performInference(voicesplitting.generic.MidiModel,%20voicesplitting.parsing.NoteListGenerator)">performInference</a></strong>(<a href="../../../voicesplitting/generic/MidiModel.html" title="class in voicesplitting.generic">MidiModel</a>&nbsp;model,
                <a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing">NoteListGenerator</a>&nbsp;nlg)</code>
<div class="block">Perform inference on the given model.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelTesterReturn</a></code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#runTest(voicesplitting.voice.hmm.HmmVoiceSplittingModelParameters,%20boolean)">runTest</a></strong>(<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelParameters</a>&nbsp;params,
       boolean&nbsp;extract)</code>
<div class="block">Run the <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModel.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModel</code></a> on the given songs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelParameters</a></code></td>
<td class="colLast"><code><strong><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#tune(int)">tune</a></strong>(int&nbsp;steps)</code>
<div class="block">Tune the <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NUM_PROCS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NUM_PROCS</h4>
<pre>private static final&nbsp;int NUM_PROCS</pre>
<div class="block">The number of processes to use for training, generated from the number of available
 processors.</div>
</li>
</ul>
<a name="EPSILON">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EPSILON</h4>
<pre>private static final&nbsp;double EPSILON</pre>
<div class="block">Epsilon needed for double comparison.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#voicesplitting.voice.hmm.HmmVoiceSplittingModelTester.EPSILON">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="VERBOSE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERBOSE</h4>
<pre>private static&nbsp;boolean VERBOSE</pre>
<div class="block">Print song-by song voice details when running.
 <p>
 False by default, but can be set to true by using the <code>-v</code> flag.</div>
</li>
</ul>
<a name="USE_CHANNEL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>USE_CHANNEL</h4>
<pre>private static&nbsp;boolean USE_CHANNEL</pre>
<div class="block">True if we want to use the input data's channel as gold standard voices. False to use track instead.
 <p>
 True by default, but can be set to false by using the <code>-T</code> flag.</div>
</li>
</ul>
<a name="songs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>songs</h4>
<pre>private static&nbsp;java.util.List&lt;<a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing">NoteListGenerator</a>&gt; songs</pre>
<div class="block">A <a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing"><code>NoteListGenerator</code></a> for each of the songs we are evaluating.</div>
</li>
</ul>
<a name="goldStandard">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>goldStandard</h4>
<pre>private static&nbsp;java.util.List&lt;java.util.List&lt;java.util.List&lt;<a href="../../../voicesplitting/utils/MidiNote.html" title="class in voicesplitting.utils">MidiNote</a>&gt;&gt;&gt; goldStandard</pre>
<div class="block">The gold standard voices for each of the songs we are evaluating.
 <p>
 Specifically <code>goldStandard.get(i - 1)</code> is a List of the gold standard voices for the ith
 song, where a voice is an ordered List of the <a href="../../../voicesplitting/utils/MidiNote.html" title="class in voicesplitting.utils"><code>MidiNote</code></a>s contained within.</div>
</li>
</ul>
<a name="files">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>files</h4>
<pre>private static&nbsp;java.util.List&lt;java.io.File&gt; files</pre>
<div class="block">A List of the Files we're reading MIDI data in from.</div>
</li>
</ul>
<a name="parametersList">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>parametersList</h4>
<pre>private&nbsp;java.util.List&lt;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelParameters</a>&gt; parametersList</pre>
<div class="block">A List of the parameters which we need to test with this Tester thread.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HmmVoiceSplittingModelTester(java.util.List)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HmmVoiceSplittingModelTester</h4>
<pre>public&nbsp;HmmVoiceSplittingModelTester(java.util.List&lt;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelParameters</a>&gt;&nbsp;params)</pre>
<div class="block">Create a new Tester thread which should test on the given <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>params</code> - <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html#parametersList"><code>parametersList</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)
                 throws javax.sound.midi.InvalidMidiDataException,
                        java.io.IOException,
                        java.lang.InterruptedException,
                        java.util.concurrent.ExecutionException</pre>
<div class="block">Train or test the voice splitter. The arguments are as follows:
 <p>
 <code>java HmmVoiceSplittingModelTester ARGS Files</code>
 <p>
 Here, <code>Files</code> should be a list of 1 or more MIDI files or directories containing only MIDI
 files. Any directories listed will be searched recursively for all files, and if any of the files
 found are not in MIDI format, an InvalidMidiDataException will be thrown.
 <p>
 ARGS:
 <ul>
 <li>
 Running arguments:
 <ul>
 <li><code>-r</code> = Run a test (if used with <code>-t</code>, the tuned parameters instead of any given).</li>
 <li><code>-t [STEPS]</code> = Tune to maximize F1-Measure, and optionally set the number of steps to make
 within each parameter range to an Integer value (default = 5). It is HIGHLY recommended to use this training
 method rather than your own script because it runs the tests in parallel as much as possible to speed up
 training.</li>
 <li><code>-e</code> = Extract the separated voices in the following format: songID noteID voiceID onsetTime(microseconds) offsetTime(microseconds) pitch velocity
 <li><code>-v</code> = Verbose (print out each song and each individual voice when running).</li>
 <li><code>-T</code> = Use tracks as correct voice (instead of channels).</li>
 </ul>
 </li>
 <li>
 If running with <code>-r</code>, the following arguments can be used to change the parameter settings from their default
 values (those with which we tested the computer generated WTC fugues in the paper):
 <ul>
 <li><code>-b INT</code> = Set the Beam Size parameter to the value INT (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#BEAM_SIZE_DEFAULT">25</a>).</li>
 <li><code>-n DOUBLE</code> = Set the New Voice Probability parameter to the value DOUBLE (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#NEW_VOICE_PROBABILITY_DEFAULT">5.0E-10</a>).</li>
 <li><code>-h INT</code> = Set the Pitch History Length parameter to the value INT (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#PITCH_HISTORY_LENGTH_DEFAULT">11</a>).</li>
 <li><code>-g DOUBLE</code> = Set the Gap Std Micros parameter to the value DOUBLE (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#GAP_STD_MICROS_DEFAULT">224000.0</a>).</li>
 <li><code>-p DOUBLE</code> = Set the Pitch Std parameter to the value DOUBLE (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#PITCH_STD_DEFAULT">4.0</a>).</li>
 <li><code>-m DOUBLE</code> = Set the Min Gap Score parameter to the value DOUBLE (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#MIN_GAP_SCORE_DEFAULT">7.0E-5</a>).</li>
 </ul>
 </li>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - The command line arguments.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there was some I/O error in reading one of the Files.</dd>
<dd><code>javax.sound.midi.InvalidMidiDataException</code> - If one of the Files is not in proper MIDI format.</dd>
<dd><code>java.util.concurrent.ExecutionException</code> - If there is some generic execution exception.</dd>
<dd><code>java.lang.InterruptedException</code> - If there is some interrupt received.</dd></dl>
</li>
</ul>
<a name="tune(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tune</h4>
<pre>private static&nbsp;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelParameters</a>&nbsp;tune(int&nbsp;steps)
                                              throws java.lang.InterruptedException,
                                                     java.util.concurrent.ExecutionException</pre>
<div class="block">Tune the <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>steps</code> - The number of steps to make in our grid search.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The best <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a> we found.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.util.concurrent.ExecutionException</code> - If there is some generic execution exception.</dd>
<dd><code>java.lang.InterruptedException</code> - If there is some interrupt received.</dd></dl>
</li>
</ul>
<a name="runTest(voicesplitting.voice.hmm.HmmVoiceSplittingModelParameters, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runTest</h4>
<pre>private static&nbsp;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelTesterReturn</a>&nbsp;runTest(<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelParameters</a>&nbsp;params,
                                         boolean&nbsp;extract)</pre>
<div class="block">Run the <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModel.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModel</code></a> on the given songs.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>params</code> - The <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a> we want to use for this run.</dd><dd><code>extract</code> - Whether to print out the extracted voices or not.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelTesterReturn</code></a> object containing the parameters and the
 achieved accuracy.</dd></dl>
</li>
</ul>
<a name="getExtractString(java.util.List, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExtractString</h4>
<pre>private static&nbsp;java.lang.String&nbsp;getExtractString(java.util.List&lt;<a href="../../../voicesplitting/voice/Voice.html" title="class in voicesplitting.voice">Voice</a>&gt;&nbsp;voices,
                                int&nbsp;songId)</pre>
<div class="block">Get the extracted voices as a String.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>voices</code> - The voices returned from voice separation.</dd><dd><code>songId</code> - The index of the song. Used to disambiguate in case multiple songs are being split at once.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The print out of the extracted voices in the following format:
         songID noteID voiceID onsetTime(microseconds) offsetTime(microseconds) pitch velocity</dd></dl>
</li>
</ul>
<a name="finished(java.util.List, int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finished</h4>
<pre>private static&nbsp;boolean&nbsp;finished(java.util.List&lt;<a href="../../../voicesplitting/voice/Voice.html" title="class in voicesplitting.voice">Voice</a>&gt;&nbsp;voices,
               int[]&nbsp;voiceIndex)</pre>
<div class="block">Return if the voices are finished printing or not.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>voices</code> - A List of the voices.</dd><dd><code>voiceIndex</code> - The current index of the note we need to print next for each voice.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if there are no notes left to print. False otherwise.</dd></dl>
</li>
</ul>
<a name="getNextVoiceIndex(java.util.List, int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextVoiceIndex</h4>
<pre>private static&nbsp;int&nbsp;getNextVoiceIndex(java.util.List&lt;<a href="../../../voicesplitting/voice/Voice.html" title="class in voicesplitting.voice">Voice</a>&gt;&nbsp;voices,
                    int[]&nbsp;voiceIndex)</pre>
<div class="block">Return the index of the voice containing the unprinted note with the lowest onset time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>voices</code> - A List of the voices.</dd><dd><code>voiceIndex</code> - The current index of the note we need to print next for each voice.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The voice containing the unprinted note with the lowest onset time.</dd></dl>
</li>
</ul>
<a name="getSongs(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSongs</h4>
<pre>private static&nbsp;java.util.List&lt;<a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing">NoteListGenerator</a>&gt;&nbsp;getSongs(java.util.List&lt;java.io.File&gt;&nbsp;files)
                                                   throws javax.sound.midi.InvalidMidiDataException,
                                                          java.io.IOException</pre>
<div class="block">Generate a <a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing"><code>NoteListGenerator</code></a>s for each given MIDI File and return them in a List.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>files</code> - A List of Files to read (should be MIDI files).</dd>
<dt><span class="strong">Returns:</span></dt><dd>A List of the <a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing"><code>NoteListGenerator</code></a>s for each song.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - If there was some I/O error in reading one of the Files.</dd>
<dd><code>javax.sound.midi.InvalidMidiDataException</code> - If one of the Files is not in proper MIDI format.</dd></dl>
</li>
</ul>
<a name="performInference(voicesplitting.generic.MidiModel, voicesplitting.parsing.NoteListGenerator)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performInference</h4>
<pre>public static&nbsp;void&nbsp;performInference(<a href="../../../voicesplitting/generic/MidiModel.html" title="class in voicesplitting.generic">MidiModel</a>&nbsp;model,
                    <a href="../../../voicesplitting/parsing/NoteListGenerator.html" title="class in voicesplitting.parsing">NoteListGenerator</a>&nbsp;nlg)</pre>
<div class="block">Perform inference on the given model.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>model</code> - The model on which we want to perform inference.</dd><dd><code>nlg</code> - The NoteListGenerator which will give us the incoming note lists.</dd></dl>
</li>
</ul>
<a name="getAllFilesRecursive(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllFilesRecursive</h4>
<pre>public static&nbsp;java.util.List&lt;java.io.File&gt;&nbsp;getAllFilesRecursive(java.io.File&nbsp;file)</pre>
<div class="block">Get and return a List of every File beneath the given one recursively.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>file</code> - The head File.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A List of every File under the given head.</dd></dl>
</li>
</ul>
<a name="argumentError(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>argumentError</h4>
<pre>private static&nbsp;void&nbsp;argumentError(java.lang.String&nbsp;arg)</pre>
<div class="block">Print an argument error to stderr. The correct arguments are as follows:
 <p>
 <code>java HmmVoiceSplittingModelTester ARGS Files</code>
 <p>
 Here, <code>Files</code> should be a list of 1 or more MIDI files or directories containing only MIDI
 files. Any directories listed will be searched recursively for all files, and if any of the files
 found are not in MIDI format, an InvalidMidiDataException will be thrown.
 <p>
 ARGS:
 <ul>
 <li>
 Running arguments:
 <ul>
 <li><code>-r</code> = Run a test (if used with <code>-t</code>, the tuned parameters instead of any given).</li>
 <li><code>-t [STEPS]</code> = Tune to maximize F1-Measure, and optionally set the number of steps to make
 within each parameter range to an Integer value (default = 5). It is HIGHLY recommended to use this training
 method rather than your own script because it runs the tests in parallel as much as possible to speed up
 training.</li>
 <li><code>-e</code> = Extract the separated voices in the following format: noteID voiceID onsetTime(microseconds) offsetTime(microseconds) pitch velocity
 <li><code>-v</code> = Verbose (print out each song and each individual voice when running).</li>
 <li><code>-T</code> = Use tracks as correct voice (instead of channels).</li>
 </ul>
 </li>
 <li>
 If running with <code>-r</code>, the following arguments can be used to change the parameter settings from their default
 values (those with which we tested the computer generated WTC fugues in the paper):
 <ul>
 <li><code>-b INT</code> = Set the Beam Size parameter to the value INT (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#BEAM_SIZE_DEFAULT">25</a>).</li>
 <li><code>-n DOUBLE</code> = Set the New Voice Probability parameter to the value DOUBLE (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#NEW_VOICE_PROBABILITY_DEFAULT">5.0E-10</a>).</li>
 <li><code>-h INT</code> = Set the Pitch History Length parameter to the value INT (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#PITCH_HISTORY_LENGTH_DEFAULT">11</a>).</li>
 <li><code>-g DOUBLE</code> = Set the Gap Std Micros parameter to the value DOUBLE (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#GAP_STD_MICROS_DEFAULT">224000.0</a>).</li>
 <li><code>-p DOUBLE</code> = Set the Pitch Std parameter to the value DOUBLE (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#PITCH_STD_DEFAULT">4.0</a>).</li>
 <li><code>-m DOUBLE</code> = Set the Min Gap Score parameter to the value DOUBLE (defualt = <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html#MIN_GAP_SCORE_DEFAULT">7.0E-5</a>).</li>
 </ul>
 </li>
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>arg</code> - The argument which caused the error.</dd></dl>
</li>
</ul>
<a name="call()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>call</h4>
<pre>public&nbsp;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelTesterReturn</a>&nbsp;call()
                                        throws java.lang.Exception</pre>
<div class="block">Run the test on our List of <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelParameters.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelParameters</code></a>, and return the best result.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>call</code>&nbsp;in interface&nbsp;<code>java.util.concurrent.Callable&lt;<a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm">HmmVoiceSplittingModelTesterReturn</a>&gt;</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>A <a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm"><code>HmmVoiceSplittingModelTesterReturn</code></a> representing the best result found from our
 List of parameters.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - If any exception occurs, most often an interrupt.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HmmVoiceSplittingModelTester.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelState.html" title="class in voicesplitting.voice.hmm"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../voicesplitting/voice/hmm/HmmVoiceSplittingModelTesterReturn.html" title="class in voicesplitting.voice.hmm"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?voicesplitting/voice/hmm/HmmVoiceSplittingModelTester.html" target="_top">Frames</a></li>
<li><a href="HmmVoiceSplittingModelTester.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
